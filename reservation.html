<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ì˜ˆì•½</title>

  <script src="https://cdn.tailwindcss.com"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/lucide@0.476.0/dist/umd/lucide.min.js"></script>
  <style>
    body{font-family:'Noto Sans KR',system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;}
    .safe-bottom{padding-bottom:env(safe-area-inset-bottom);}
    .rs-lock{overflow:hidden;}
    :root{ --vh: 1vh; }
    .min-h-screen{ min-height: calc(var(--vh, 1vh) * 100) !important; }
    .h-screen{ height: calc(var(--vh, 1vh) * 100) !important; }
  </style>
</head>
<body class="bg-gray-50 min-h-screen">
  <div class="mx-auto w-full max-w-[480px] min-h-screen bg-white">
    <!-- Top bar -->
    <div class="sticky top-0 z-50 bg-white/95 backdrop-blur border-b border-gray-100">
      <div class="h-14 px-4 flex items-center justify-between">
        <button id="rsBack" class="p-2 -ml-2 rounded-xl active:scale-95" aria-label="ë’¤ë¡œê°€ê¸°">
          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="m15 18-6-6 6-6"/>
          </svg>
        </button>
        <div class="font-black text-gray-900">ì˜ˆì•½</div>
        <div class="w-10"></div>
      </div>
    </div>

    <div class="p-5 pb-10 safe-bottom">
      <!-- Lowest price card (ë©”ì¸í˜ì´ì§€ì™€ ë™ì¼) -->
      <div class="bg-[#121212] p-5 rounded-2xl border border-gray-800 mb-5 shadow-xl relative overflow-hidden group">
        <div class="absolute top-0 right-0 -mr-4 -mt-4 p-10 bg-red-500/10 rounded-full blur-2xl group-hover:bg-red-500/20 transition-all duration-700"></div>
        <div class="relative z-10">
          <div class="flex justify-between items-start mb-1">
            <div class="flex items-center gap-2">
              <div class="w-1 h-4 bg-[#FF4F4F] rounded-full shadow-[0_0_8px_rgba(255,79,79,0.8)]"></div>
              <h2 class="text-[12px] font-black text-[#FF4F4F] uppercase tracking-tighter leading-none">LOWEST PRICE <br /> GUARANTEE</h2>
            </div>
            <div class="relative">
              <div class="bg-white text-black text-[10px] font-black px-2.5 py-1.5 rounded-xl shadow-lg animate-bounce whitespace-nowrap">
                ê³ ê°ì„¼í„° ì´ìš©ê³ ê° ëŒ€ìƒ
                <div class="absolute -bottom-1 right-3 w-2 h-2 bg-white rotate-45"></div>
              </div>
            </div>
          </div>
          <div class="pt-1 relative">
            <div class="pr-24">
              <h3 class="text-white text-2xl font-black tracking-tight leading-tight">24ì‹œê°„ í•œì •</h3>
              <h3 class="text-[#FFEA00] text-2xl font-black tracking-tight leading-tight [text-shadow:0_0_15px_rgba(255,234,0,0.6)]">ìµœì €ê°€ ë³´ì¥</h3>
            </div>
            <div class="absolute top-1 right-0 flex items-center gap-1.5 bg-red-500/10 px-2 py-1.5 rounded-lg border border-red-500/30">
              <i data-lucide="clock" style="width:12px;height:12px" class="text-[#FFEA00]"></i>
              <span id="rsTimer" class="text-[13px] font-black font-mono text-[#FFEA00] tracking-tighter">00:00:00</span>
            </div>
          </div>
        </div>
        <div class="text-[13px] text-gray-400 mt-4 leading-relaxed font-medium relative z-10 space-y-0.5">
          <p>ğŸ ìƒë‹´ ê³ ê° í•œì • íŠ¹ë³„ê°€ë¥¼ ë“œë¦½ë‹ˆë‹¤.</p>
          <p>ğŸ“£ íƒ€ ì˜ˆì•½ì‚¬ì´íŠ¸ ëŒ€ë¹„ <span class="text-[#FF4F4F] font-black">ìµœì €ê°€ ë³´ì¥</span></p>
          <p>ğŸ¸ ìµœì €ê°€ë¥¼ ë°œê²¬í•˜ì‹œë©´ ì°¨ì•¡ì„ ë³´ìƒí•´ë“œë¦½ë‹ˆë‹¤.</p>
        </div>
      </div>

      <!-- Basic reservation summary -->
      <div class="mb-2">
        <span class="inline-flex items-center bg-blue-50 text-blue-600 text-[11px] font-black px-3 py-1 rounded-full border border-blue-100">íƒ€ì‚¬ì´íŠ¸ ëŒ€ë¹„ ìµœì €ê°€ë³´ì¥</span>
      </div>

      <div class="text-2xl font-black text-gray-900 tracking-tight" id="rsStayName">íƒœì•ˆ ì—˜í”Œë ˆì´íŠ¸í’€ë¹Œë¼</div>
      <div class="text-xl font-black text-gray-900" id="rsRoomName">D</div>

      
      <div class="mt-5 bg-gray-50 border border-gray-100 rounded-2xl p-4">
        <div class="flex items-center text-gray-500 text-xs mb-2 font-medium">
          <span class="mr-2 text-blue-500">
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
              <circle cx="9" cy="7" r="4"></circle>
              <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
              <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
            </svg>
          </span>
          <span id="rsGuestLine" class="font-medium">ê¸°ì¤€ 0ëª… / ìµœëŒ€ 0ëª…</span>
        </div>

        <div class="flex items-center text-gray-500 text-xs font-medium leading-snug">
          <span class="mr-2 text-blue-500">
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
              <line x1="16" y1="2" x2="16" y2="6"></line>
              <line x1="8" y1="2" x2="8" y2="6"></line>
              <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
          </span>
          <span>
            ì²´í¬ì¸ <span id="rsCheckInDate" class="font-bold text-gray-700">-</span> <span id="rsCheckInTime" class="font-bold text-gray-700">-</span>
            <span class="text-gray-400">/</span>
            ì²´í¬ì•„ì›ƒ <span id="rsCheckOutDate" class="font-bold text-gray-700">-</span> <span id="rsCheckOutTime" class="font-bold text-gray-700">-</span>
          </span>
        </div>
      </div>

      <!-- hidden (script compatibility) -->
      <span id="rsNights" class="hidden">-</span>
      <span id="rsTotalPrice" class="hidden">-</span>

<!-- ì´ìš©ì •ë³´ -->
      <div class="mt-8">
        <div class="text-[15px] font-black text-gray-900">ì´ìš©ì •ë³´</div>

        <div class="mt-4 space-y-4">
          <div>
            <div class="text-[12px] font-bold text-gray-500">ì„±ëª… <span class="text-red-500">*</span></div>
            <input id="rsName" type="text" class="mt-2 w-full border border-gray-200 rounded-xl px-4 py-3 text-[14px] font-medium outline-none focus:ring-2 focus:ring-blue-500" placeholder="ë°©ë¬¸ìì˜ ì„±í•¨ì„ ì…ë ¥í•´ì£¼ì„¸ìš”." />
          </div>

          <div>
            <div class="text-[12px] font-bold text-gray-500">íœ´ëŒ€í°ë²ˆí˜¸ <span class="text-red-500">*</span></div>
            <div class="mt-2 flex items-center gap-2">
              <input id="rsPhone" inputmode="numeric" type="tel" class="flex-1 min-w-0 border border-gray-200 rounded-xl px-4 py-3 text-[14px] font-medium outline-none focus:ring-2 focus:ring-blue-500" placeholder="ë°©ë¬¸ìì˜ íœ´ëŒ€í°ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”." maxlength="13" />
        <button id="rsSendOtpBtn" disabled class="shrink-0 px-4 py-3 rounded-xl text-[13px] font-black bg-gray-200 text-gray-400 max-w-full">ì¸ì¦ë²ˆí˜¸ë°›ê¸°</button>
            </div>
          </div>

          <div id="rsOtpWrap" class="hidden">
            <div class="text-[12px] font-bold text-gray-500">ì¸ì¦ë²ˆí˜¸ <span class="text-red-500">*</span></div>
      <div class="mt-2 flex items-center gap-2">
        <input id="rsOtp" autocomplete="one-time-code" name="one-time-code" autocorrect="off" autocapitalize="off" spellcheck="false" inputmode="numeric" type="tel" class="flex-1 min-w-0 border border-gray-200 rounded-xl px-4 py-3 text-[14px] font-medium outline-none focus:ring-2 focus:ring-blue-500" placeholder="ì¸ì¦ë²ˆí˜¸ 4ìë¦¬ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”." maxlength="4" />
        <button id="rsOtpVerifyBtn" disabled class="shrink-0 px-4 py-3 rounded-xl text-[13px] font-black bg-gray-200 text-gray-400 max-w-full">ì¸ì¦í•˜ê¸°</button>
      </div>
          </div>

    <div>
      <div class="text-[12px] font-bold text-gray-500">ìš”ì²­ì‚¬í•­</div>
      <input id="rsRequest" type="text" class="mt-2 w-full border border-gray-200 rounded-xl px-4 py-3 text-[14px] font-medium outline-none focus:ring-2 focus:ring-blue-500" placeholder="ìš”ì²­ì‚¬í•­ì„ ì…ë ¥í•´ì£¼ì„¸ìš”." />
    </div>
        </div>
      </div>


<!-- ê²°ì œ ê¸ˆì•¡ -->
<div class="mt-10">
  <div class="flex items-start justify-between">
    <div>
      <div class="text-[15px] font-black text-gray-900">ê²°ì œ ê¸ˆì•¡</div>
    </div>
  </div>
    </div>
  </div>

  <div class="mt-4 rounded-2xl border border-blue-200 bg-blue-50 p-4 flex items-center justify-between">
    <div class="flex items-start gap-3">
      <input id="rsDiscount" type="radio" name="rsDiscount" checked class="mt-1" />
      <div>
        <div class="text-[14px] font-black text-gray-900">ìµœì €ê°€ ë³´ì¥ í• ì¸</div>
        <div class="text-[12px] font-bold text-blue-700">ì§€ê¸ˆë§Œ ê°€ëŠ¥í•œ íŠ¹ê°€ í˜œíƒ</div>
      </div>
    </div>
    <div class="text-right">
      <div class="flex flex-col items-end">
        <div class="flex items-center gap-1.5">
          <span id="rsDiscountPct" class="text-red-500 font-extrabold text-xl">-</span>
          <span id="rsOriginalAmount" class="text-gray-300 line-through text-xs font-medium">-</span>
        </div>
        <div class="flex flex-col items-end -mt-0.5">
          <span class="text-blue-600 text-[11px] font-black">ìµœëŒ€í• ì¸ê°€</span>
          <div class="flex items-center"><span id="rsFinalAmount" class="text-3xl font-black text-gray-900 tracking-tighter">-</span></div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ê²°ì œ ìˆ˜ë‹¨ -->
<div class="mt-10">
  <div class="text-[15px] font-black text-gray-900">ê²°ì œ ìˆ˜ë‹¨ <span class="text-red-500">*</span></div>
  <div class="mt-4 grid grid-cols-2 gap-3">
    <label class="cursor-pointer">
      <input type="radio" name="rsPayMethod" value="card" required class="sr-only peer" />
      <div class="flex items-center gap-2 border border-gray-200 rounded-2xl px-4 py-3 bg-white transition active:scale-[0.99] text-gray-700 peer-checked:text-blue-600 peer-checked:border-blue-600 peer-checked:bg-blue-50">
        <div class="w-6 h-6 flex items-center justify-center">
          <svg fill="none" height="22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><rect height="14" rx="2" width="20" x="2" y="5"></rect><line x1="2" x2="22" y1="10" y2="10"></line></svg>
        </div>
        <div class="text-[13px] font-bold">ì‹ ìš©/ì²´í¬ì¹´ë“œ</div>
      </div>
    </label>

    <label class="cursor-pointer">
      <input type="radio" name="rsPayMethod" value="vbank" class="sr-only peer" />
      <div class="flex items-center gap-2 border border-gray-200 rounded-2xl px-4 py-3 bg-white transition active:scale-[0.99] text-gray-700 peer-checked:text-blue-600 peer-checked:border-blue-600 peer-checked:bg-blue-50">
        <div class="w-6 h-6 flex items-center justify-center">
          <svg fill="none" height="22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M3 21h18"></path><path d="M6 21V7"></path><path d="M18 21V7"></path><path d="M4 7h16"></path><path d="M12 3 20 7H4l8-4Z"></path></svg>
        </div>
        <div class="text-[13px] font-bold">ê°€ìƒê³„ì¢Œ</div>
      </div>
    </label>

    <label class="cursor-pointer">
      <input type="radio" name="rsPayMethod" value="naverpay" class="sr-only peer" />
      <div class="flex items-center gap-2 border border-gray-200 rounded-2xl px-4 py-3 bg-white transition active:scale-[0.99] text-gray-700 peer-checked:text-blue-600 peer-checked:border-blue-600 peer-checked:bg-blue-50">
        <div class="w-6 h-6 rounded-md bg-[#1EC800] text-white font-black flex items-center justify-center text-[12px]">N</div>
        <div class="text-[13px] font-bold">ë„¤ì´ë²„í˜ì´</div>
      </div>
    </label>

    <label class="cursor-pointer">
      <input type="radio" name="rsPayMethod" value="kakaopay" class="sr-only peer" />
      <div class="flex items-center gap-2 border border-gray-200 rounded-2xl px-4 py-3 bg-white transition active:scale-[0.99] text-gray-700 peer-checked:text-blue-600 peer-checked:border-blue-600 peer-checked:bg-blue-50">
        <div class="w-6 h-6 rounded-md bg-[#FEE500] text-black font-black flex items-center justify-center text-[12px]">P</div>
        <div class="text-[13px] font-bold">ì¹´ì¹´ì˜¤í˜ì´</div>
      </div>
    </label>

    <label class="cursor-pointer">
      <input type="radio" name="rsPayMethod" value="tosspay" class="sr-only peer" />
      <div class="flex items-center gap-2 border border-gray-200 rounded-2xl px-4 py-3 bg-white transition active:scale-[0.99] text-gray-700 peer-checked:text-blue-600 peer-checked:border-blue-600 peer-checked:bg-blue-50">
        <div class="w-6 h-6 rounded-full bg-[#0A74FF] text-white font-black flex items-center justify-center text-[9px]">toss</div>
        <div class="text-[13px] font-bold">í† ìŠ¤í˜ì´</div>
      </div>
    </label>

    <label class="cursor-pointer">
      <input type="radio" name="rsPayMethod" value="quick" class="sr-only peer" />
      <div class="flex items-center gap-2 border border-gray-200 rounded-2xl px-4 py-3 bg-white transition active:scale-[0.99] text-gray-700 peer-checked:text-blue-600 peer-checked:border-blue-600 peer-checked:bg-blue-50">
        <div class="w-6 h-6 rounded-full bg-[#0A74FF] text-white font-black flex items-center justify-center text-[9px]">toss</div>
        <div class="text-[13px] font-bold">í€µê³„ì¢Œì´ì²´</div>
      </div>
    </label>
  </div>
</div>

<!-- ì•ˆë‚´ ë¬¸êµ¬ -->
<div class="mt-10">
  <div class="space-y-3">
    <div class="flex gap-3 rounded-2xl bg-[#FFF8F1] border border-[#FFE6CC] p-4">
      <div class="mt-0.5 w-6 h-6 rounded-full bg-[#FF7A00]/15 flex items-center justify-center text-[#FF7A00] font-black text-[14px]">i</div>
      <div>
        <div class="text-[13px] font-black text-gray-900">í˜„ì¥ê²°ì œ</div>
        <div class="mt-1 text-[12px] font-bold text-gray-600 leading-relaxed">ì¶”ê°€ì¸ì› ë¹„ìš©ë“±ì˜ í˜„ì¥ê²°ì œ ë°œìƒ ìƒí’ˆì„ í™•ì¸í•˜ì„¸ìš”.</div>
      </div>
    </div>

    <div class="flex gap-3 rounded-2xl bg-[#FFF8F1] border border-[#FFE6CC] p-4">
      <div class="mt-0.5 w-6 h-6 rounded-full bg-[#FF7A00]/15 flex items-center justify-center text-[#FF7A00] font-black text-[14px]">i</div>
      <div>
        <div class="text-[13px] font-black text-gray-900">ì·¨ì†Œë¶ˆê°€ ë° ìˆ˜ìˆ˜ë£Œ</div>
        <div class="mt-1 text-[12px] font-bold text-gray-600 leading-relaxed">ì·¨ì†Œ ë° í™˜ë¶ˆê·œì •ì— ë”°ë¼ ì·¨ì†Œë¶ˆê°€, ìˆ˜ìˆ˜ë£Œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
      </div>
    </div>

    <div class="flex gap-3 rounded-2xl bg-[#FFF8F1] border border-[#FFE6CC] p-4">
      <div class="mt-0.5 w-6 h-6 rounded-full bg-[#FF7A00]/15 flex items-center justify-center text-[#FF7A00] font-black text-[14px]">i</div>
      <div>
        <div class="text-[13px] font-black text-gray-900">ë¯¸ì„±ë…„ì ë° ë²•ì •ëŒ€ë¦¬ì¸ í•„ìˆ˜</div>
        <div class="mt-1 text-[12px] font-bold text-gray-600 leading-relaxed">ë¯¸ì„±ë…„ìëŠ” ë²•ì •ëŒ€ë¦¬ì¸ ë™í–‰ ì—†ì´ íˆ¬ìˆ™ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.</div>
      </div>
    </div>
  </div>
</div>

<!-- ì•½ê´€ë™ì˜ -->
<div class="mt-10">
  <div class="border border-gray-200 rounded-2xl overflow-hidden bg-white">
    <div class="p-4">
      <label class="flex items-center gap-3 cursor-pointer select-none">
        <input id="rsAgreeAll" type="checkbox" class="w-5 h-5 accent-blue-600" />
        <div class="text-[16px] font-black text-gray-900">ì „ì²´ ë™ì˜</div>
      </label>
    </div>
    <div class="border-t border-gray-100">
      <div class="flex items-center justify-between px-4 py-3">
        <label class="flex items-center gap-3 cursor-pointer select-none">
          <input id="rsAgreeRule" type="checkbox" class="w-4 h-4 accent-blue-600" />
          <div class="text-[13px] font-bold text-gray-700">[í•„ìˆ˜] ì´ìš©ê·œì¹™</div>
        </label>
        <button class="rsViewTerm text-[13px] font-black text-blue-600" data-term="rule" data-title="[í•„ìˆ˜] ì´ìš©ê·œì¹™">ë³´ê¸°</button>
      </div>
      <div class="flex items-center justify-between px-4 py-3 border-t border-gray-100">
        <label class="flex items-center gap-3 cursor-pointer select-none">
          <input id="rsAgreeCancel" type="checkbox" class="w-4 h-4 accent-blue-600" />
          <div class="text-[13px] font-bold text-gray-700">[í•„ìˆ˜] ì·¨ì†Œ ë° í™˜ë¶ˆ ê·œì¹™</div>
        </label>
        <button class="rsViewTerm text-[13px] font-black text-blue-600" data-term="cancel" data-title="[í•„ìˆ˜] ì·¨ì†Œ ë° í™˜ë¶ˆ ê·œì¹™">ë³´ê¸°</button>
      </div>
      <div class="flex items-center justify-between px-4 py-3 border-t border-gray-100">
        <label class="flex items-center gap-3 cursor-pointer select-none">
          <input id="rsAgreePrivacy" type="checkbox" class="w-4 h-4 accent-blue-600" />
          <div class="text-[13px] font-bold text-gray-700">[í•„ìˆ˜] ê°œì¸ì •ë³´ ì œ3ì ì œê³µ ì•ˆë‚´</div>
        </label>
        <button class="rsViewTerm text-[13px] font-black text-blue-600" data-term="privacy" data-title="[í•„ìˆ˜] ê°œì¸ì •ë³´ ì œ3ì ì œê³µ ì•ˆë‚´">ë³´ê¸°</button>
      </div>
      <div class="flex items-center justify-between px-4 py-3 border-t border-gray-100">
        <label class="flex items-center gap-3 cursor-pointer select-none">
          <input id="rsAgreeAge" type="checkbox" class="w-4 h-4 accent-blue-600" />
          <div class="text-[13px] font-bold text-gray-700">[í•„ìˆ˜] ë³¸ì¸ì€ ë§Œ 19ì„¸ ì´ìƒì…ë‹ˆë‹¤.</div>
        </label>
        <button class="rsViewTerm text-[13px] font-black text-blue-600" data-term="age" data-title="[í•„ìˆ˜] ë³¸ì¸ì€ ë§Œ 19ì„¸ ì´ìƒì…ë‹ˆë‹¤.">ë³´ê¸°</button>
      </div>
    </div>
  </div>
</div>

<!-- Footer (ë©”ì¸ê³¼ ë™ì¼) -->
<footer class="px-6 pb-12 pt-10 bg-white border-t border-gray-100 mt-10">
  <div class="text-[12px] text-gray-500 font-medium leading-relaxed">
    <div class="flex flex-wrap gap-x-2">
      <span class="font-black text-gray-700">íŠ¸ë¦½ì¼ë ˆë¸</span>
      <span>ì„œìš¸ ê¸ˆì²œêµ¬ ê°€ì‚°ë””ì§€í„¸1ë¡œ 186 ì œì´í”Œë¼ì¸  903í˜¸</span>
    </div>
    <div class="mt-1">ëŒ€í‘œëª…: ì†ê¸°í›ˆ <span class="mx-1 text-gray-300">|</span> ì‚¬ì—…ìë²ˆí˜¸: 367-88-00819</div>
    <div class="mt-4">íŠ¸ë¦½ì¼ë ˆë¸ì€ í†µì‹ íŒë§¤ ì¤‘ê°œìë¡œì„œ ì˜ˆì•½ì„œë¹„ìŠ¤ë§Œ ì œê³µí•˜ë©°, ì˜ˆì•½ ê´€ë ¨ ì„œë¹„ìŠ¤ëŠ” ìˆ™ë°•ì—…ì²´ì˜ ì±…ì„í•˜ì— ìš´ì˜ë˜ê³  ìˆìŠµë‹ˆë‹¤.</div>
    <div class="mt-4 font-black text-gray-300 tracking-wide">COPYRIGHTâ“’(ì£¼)íŠ¸ë¦½ì¼ë ˆë¸. ALL RIGHTS RESERVED.</div>
  </div>
</footer>

<!-- fixed pay button ê³µê°„ í™•ë³´ -->
<div class="h-32"></div>

    </div>
  </div>



<!-- ì•½ê´€ ë³´ê¸° ëª¨ë‹¬ -->
<div id="rsTermsModal" class="fixed inset-0 z-[90] hidden">
  <div class="absolute inset-0 bg-black/40" data-close="1"></div>

  <div class="absolute inset-x-0 bottom-0 left-1/2 -translate-x-1/2 w-full max-w-[480px] bg-white rounded-t-3xl shadow-2xl flex flex-col" style="height: 85vh; height: 85dvh;">
    <div class="px-5 py-4 border-b border-gray-100 flex items-center justify-between">
      <div id="rsTermsTitle" class="font-black text-gray-900 text-[15px]">ì•½ê´€</div>
      <button id="rsTermsClose" class="p-2 -mr-2 rounded-xl active:scale-95" aria-label="ë‹«ê¸°">
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 6 6 18"/><path d="m6 6 12 12"/>
        </svg>
      </button>
    </div>

    <div id="rsTermsBody" class="p-5 flex-1 overflow-y-auto text-[13px] font-medium text-gray-700 leading-relaxed">
      í…ŒìŠ¤íŠ¸ ì¤‘ì…ë‹ˆë‹¤. ì„ì˜ì˜ ì•½ê´€ ë‚´ìš©ì„ í‘œì‹œí•©ë‹ˆë‹¤.
    </div>

    <div class="p-5 border-t border-gray-100">
      <button id="rsTermsAgreeClose" class="w-full h-14 rounded-2xl bg-blue-600 text-white font-black text-[16px] active:scale-[0.98] transition">ë™ì˜ í›„ ë‹«ê¸°</button>
    </div>
  </div>
</div>

<!-- í•˜ë‹¨ ê²°ì œí•˜ê¸° ë²„íŠ¼ (ê³ ì •) -->
<div id="rsPayBar" class="fixed left-0 right-0 bottom-0 z-[80] w-full max-w-[480px] px-4 mx-auto" style="padding-bottom: calc(env(safe-area-inset-bottom) + 14px);">
  <div class="relative">
    <button id="rsPayBtn" disabled class="w-full h-14 rounded-2xl bg-gray-200 text-gray-400 font-black text-[16px] max-w-full">
      0ì› ê²°ì œí•˜ê¸°
    </button>
    <button id="rsPayBtnGuard" class="absolute inset-0 rounded-2xl" style="display:none" aria-label="í•„ìˆ˜ í•­ëª© ì•ˆë‚´"></button>
  </div>
</div>


  <script>
    // ---------- viewport (Samsung Internet address bar ëŒ€ì‘)
    function rsSetVh(){
      document.documentElement.style.setProperty('--vh', `${window.innerHeight * 0.01}px`);
    }
    rsSetVh();
    window.addEventListener('resize', rsSetVh);

    // lucide icons
    try{ if (window.lucide && typeof lucide.createIcons === 'function') lucide.createIcons(); } catch {}

    // ---------- helpers
    function comma(n){
      const x = Number(n);
      if (!Number.isFinite(x)) return '-';
      return x.toLocaleString('ko-KR');
    }
    function toDate(iso){
      const p = String(iso||'').split('-').map(v=>parseInt(v,10));
      if (p.length!==3 || p.some(n=>Number.isNaN(n))) return null;
      const d = new Date(p[0], p[1]-1, p[2]);
      d.setHours(0,0,0,0);
      return d;
    }
    function formatKR(iso){
      const d = toDate(iso);
      if (!d) return '-';
      const y = d.getFullYear();
      const m = String(d.getMonth()+1).padStart(2,'0');
      const day = String(d.getDate()).padStart(2,'0');
      const dow = ['ì¼','ì›”','í™”','ìˆ˜','ëª©','ê¸ˆ','í† '][d.getDay()];
      return `${y}.${m}.${day} (${dow})`;
    }
    function calcNights(aIso,bIso){
      const a = toDate(aIso);
      const b = toDate(bIso);
      if (!a || !b) return 1;
      const diff = Math.max(1, Math.round((b.getTime()-a.getTime())/86400000));
      return diff;
    }

    // ---------- back
    document.getElementById('rsBack').addEventListener('click', function(){
      // ë©”ì¸ì—ì„œ ì„ íƒí•œ ì¼ì •/ì¸ì›/ìŠ¤í¬ë¡¤ì„ ìœ ì§€í•œ ì±„ë¡œ ë³µê·€
      location.href = 'index.html?restore=1';
    });

    // ---------- timer (shared with main)
    (function initTimer(){
      const key = 'villa_promo_end_time';
      let endTime = 0;
      try{ endTime = parseInt(localStorage.getItem(key) || '0', 10); } catch { endTime = 0; }
      if (!endTime || Number.isNaN(endTime) || endTime <= Date.now()) {
        endTime = Date.now() + 24*60*60*1000;
        try{ localStorage.setItem(key, String(endTime)); } catch {}
      }
      function pad(n){ return String(n).padStart(2,'0'); }
      function tick(){
        const diff = Math.max(0, endTime - Date.now());
        const t = Math.floor(diff/1000);
        const h = Math.floor(t/3600);
        const m = Math.floor((t%3600)/60);
        const s = t%60;
        document.getElementById('rsTimer').textContent = `${pad(h)}:${pad(m)}:${pad(s)}`;
      }
      tick();
      setInterval(tick, 1000);
    })();

    // ---------- apply params
    (function(){
      const p = new URLSearchParams(location.search);
      const room = p.get('room') || 'D';
      const checkin = p.get('checkin');
      const checkout = p.get('checkout');
      const minGuests = p.get('minGuests') || '0';
      const maxGuests = p.get('maxGuests') || '0';
      const ciTime = p.get('checkinTime') || '15:00';
      const coTime = p.get('checkoutTime') || '11:00';

      document.getElementById('rsRoomName').textContent = room;
      document.getElementById('rsCheckInDate').textContent = formatKR(checkin);
      document.getElementById('rsCheckOutDate').textContent = formatKR(checkout);
      document.getElementById('rsCheckInTime').textContent = ciTime;
      document.getElementById('rsCheckOutTime').textContent = coTime;
      document.getElementById('rsGuestLine').textContent = `ê¸°ì¤€ ${minGuests}ëª… / ìµœëŒ€ ${maxGuests}ëª…`;

      const nights = calcNights(checkin, checkout);
      document.getElementById('rsNights').textContent = String(nights);

      // ë°ëª¨ ê¸ˆì•¡(ë¼ì´ë¸Œì—ì„œëŠ” APIë¡œ ì—°ê²°)
      const perNight = 159000;
      const total = perNight * nights;
      const discount = 4000;
      const final = Math.max(0, total - discount);
      window.rsFinalAmountNumber = final;

      document.getElementById('rsTotalPrice').textContent = `${comma(total)}ì›`;
      const $oa = document.getElementById('rsOriginalAmount');
      const $fa = document.getElementById('rsFinalAmount');
      const $pct = document.getElementById('rsDiscountPct');
      const $dv = document.getElementById('rsDiscountValue');

      const pct = total > 0 ? Math.round((1 - (final / total)) * 100) : 0;
      if ($pct) $pct.textContent = `${pct}%`;
      if ($oa) $oa.textContent = `${comma(total)}`;
      if ($fa) $fa.textContent = `${comma(final)}ì›`;
      if ($dv) $dv.textContent = `-${comma(discount)}ì›`;
      if (window.rsUpdatePayBtn) window.rsUpdatePayBtn();
    })();

    // ---------- phone formatting + verify
    (function(){
      const $phone = document.getElementById('rsPhone');
      const $sendBtn = document.getElementById('rsSendOtpBtn');
      const $otpWrap = document.getElementById('rsOtpWrap');
      const $otp = document.getElementById('rsOtp');
      const $otpVerifyBtn = document.getElementById('rsOtpVerifyBtn');

      let verified = false;
      window.rsVerified = false;
      let expectedOtp = null;

      function onlyDigits(s){ return String(s||'').replace(/\D/g,''); }
      function formatPhone(d){
        const x = onlyDigits(d).slice(0,11);
        if (x.length <= 3) return x;
        if (x.length <= 7) return `${x.slice(0,3)}-${x.slice(3)}`;
        return `${x.slice(0,3)}-${x.slice(3,7)}-${x.slice(7)}`;
      }

      function updateSendBtn(){
        const digits = onlyDigits($phone.value).slice(0,11);
        const ok = digits.length === 11;
        $sendBtn.disabled = !ok || verified;
        if (ok && !verified) {
          $sendBtn.className = 'shrink-0 px-4 py-3 rounded-xl text-[13px] font-black bg-blue-600 text-white active:scale-[0.98] transition';
        } else {
          $sendBtn.className = 'shrink-0 px-4 py-3 rounded-xl text-[13px] font-black bg-gray-200 text-gray-400';
        }
      }

      function updateVerifyBtn(){
        const digits = onlyDigits($otp.value).slice(0,4);
        const ok = digits.length === 4;
        $otpVerifyBtn.disabled = !ok || verified;
        if (ok && !verified) {
          $otpVerifyBtn.className = 'shrink-0 px-4 py-3 rounded-xl text-[13px] font-black bg-blue-600 text-white active:scale-[0.98] transition';
        } else {
          $otpVerifyBtn.className = 'shrink-0 px-4 py-3 rounded-xl text-[13px] font-black bg-gray-200 text-gray-400';
        }
      }

      $phone.addEventListener('input', function(){
        const caret = $phone.selectionStart || 0;
        const before = $phone.value;
        $phone.value = formatPhone(before);
        // ê°„ë‹¨ ì²˜ë¦¬: ëìœ¼ë¡œ ì´ë™(ëª¨ë°”ì¼ ì…ë ¥ ì•ˆì •ì„± ìš°ì„ )
        try{ $phone.setSelectionRange($phone.value.length, $phone.value.length); } catch {}
        updateSendBtn();
        if (window.rsUpdatePayBtn) window.rsUpdatePayBtn();
      });

      $sendBtn.addEventListener('click', function(){
        if ($sendBtn.disabled || verified) return;
        expectedOtp = '1234'; // ë°ëª¨ìš©(í…ŒìŠ¤íŠ¸: 1234)
        $otpWrap.classList.remove('hidden');
        try{ $otp.scrollIntoView({block:'center', behavior:'smooth'}); } catch{}
        setTimeout(()=>{ try{ $otp.focus(); } catch{} }, 0);
      });

      $otp.addEventListener('input', function(){
        $otp.value = onlyDigits($otp.value).slice(0,4);
        updateVerifyBtn();
        if (window.rsUpdatePayBtn) window.rsUpdatePayBtn();
      });

      $otpVerifyBtn.addEventListener('click', function(){
        if ($otpVerifyBtn.disabled || verified) return;
        const v = onlyDigits($otp.value).slice(0,4);
        if (expectedOtp && v === expectedOtp) {
          verified = true;
          window.rsVerified = true;
          if (window.rsUpdatePayBtn) window.rsUpdatePayBtn();
          alert('ì¸ì¦ë˜ì—ˆìŠµë‹ˆë‹¤.');
          // ë²„íŠ¼ ë¹„í™œì„±í™”
          $sendBtn.disabled = true;
          $otpVerifyBtn.disabled = true;
          updateSendBtn();
          updateVerifyBtn();
        } else {
          alert('ì¸ì¦ë²ˆí˜¸ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”');
        }
      });

      updateSendBtn();
      updateVerifyBtn();
    })();

    // ---------- ì•ˆë‚´/ì•½ê´€/í•˜ë‹¨ ê²°ì œ ë²„íŠ¼
    (function initPayAndTerms(){
      const $payBtn = document.getElementById('rsPayBtn');
      const $payGuard = document.getElementById('rsPayBtnGuard');

      const $name = document.getElementById('rsName');
      const $phone = document.getElementById('rsPhone');

      const $agreeAll = document.getElementById('rsAgreeAll');
      const termCheckboxIds = ['rsAgreeRule','rsAgreeCancel','rsAgreePrivacy','rsAgreeAge'];

      const $termsModal = document.getElementById('rsTermsModal');
      const $termsTitle = document.getElementById('rsTermsTitle');
      const $termsBody = document.getElementById('rsTermsBody');
      const $termsClose = document.getElementById('rsTermsClose');
      const $termsAgreeClose = document.getElementById('rsTermsAgreeClose');

      let activeTerm = null;

      function onlyDigits(s){ return String(s||'').replace(/\D/g,''); }

      function scrollToEl(el){
        if (!el) return;
        const y = el.getBoundingClientRect().top + window.scrollY - 80;
        window.scrollTo({ top: Math.max(0, y), behavior: 'smooth' });
        try{ el.focus({preventScroll:true}); } catch {}
      }

      function getFinalAmount(){
        // prefer numeric state if present
        if (typeof window.rsFinalAmountNumber === 'number' && Number.isFinite(window.rsFinalAmountNumber)) return window.rsFinalAmountNumber;
        const t = (document.getElementById('rsFinalAmount')?.textContent || '').replace(/[^\d]/g,'');
        const n = parseInt(t || '0', 10);
        return Number.isFinite(n) ? n : 0;
      }

      function updatePayText(){
        const amt = getFinalAmount();
        const txt = `${amt.toLocaleString('ko-KR')}ì› ê²°ì œí•˜ê¸°`;
        if ($payBtn) $payBtn.textContent = txt;
      }

      function isNameOk(){
        return ($name?.value || '').trim().length >= 1;
      }
      function isPhoneOk(){
        return onlyDigits($phone?.value || '').slice(0,11).length === 11;
      }
      function isVerifiedOk(){
        return window.rsVerified === true;
      }
      function isPayMethodOk(){
        return !!document.querySelector('input[name="rsPayMethod"]:checked');
      }
      function isTermsOk(){
        // "ì „ì²´ ë™ì˜"ê°€ ë˜ì—ˆê±°ë‚˜, ê°œë³„ í•„ìˆ˜ í•­ëª©ì´ ëª¨ë‘ ì²´í¬ë˜ë©´ OK
        if ($agreeAll?.checked) return true;
        return termCheckboxIds.every(id => document.getElementById(id)?.checked);
      }

      function setPayEnabled(enabled){
        if (!$payBtn || !$payGuard) return;
        if (enabled){
          $payBtn.disabled = false;
          $payBtn.className = 'w-full h-14 rounded-2xl bg-blue-600 text-white font-black text-[16px] active:scale-[0.98] transition';
          $payGuard.style.display = 'none';
        } else {
          $payBtn.disabled = true;
          $payBtn.className = 'w-full h-14 rounded-2xl bg-gray-200 text-gray-400 font-black text-[16px]';
          $payGuard.style.display = 'block';
        }
      }

      function updateAgreementAll(){
        if (!$agreeAll) return;
        const allChecked = termCheckboxIds.every(id => document.getElementById(id)?.checked);
        $agreeAll.checked = allChecked;
      }

      function updatePayBtn(){
        updatePayText();
        const ok = isNameOk() && isPhoneOk() && isVerifiedOk() && isPayMethodOk() && isTermsOk();
        setPayEnabled(ok);
      }
      window.rsUpdatePayBtn = updatePayBtn;

      // pay click
      function handlePayAttempt(){
        // if enabled, proceed (í…ŒìŠ¤íŠ¸)
        const ok = isNameOk() && isPhoneOk() && isVerifiedOk() && isPayMethodOk() && isTermsOk();
        if (ok){
          alert('ê²°ì œ ì§„í–‰(í…ŒìŠ¤íŠ¸)');
          return;
        }

        // scroll to first invalid
        if (!isNameOk()) return scrollToEl($name);
        if (!isPhoneOk()) return scrollToEl($phone);
        if (!isVerifiedOk()){
          const otp = document.getElementById('rsOtp');
          return scrollToEl(otp || $phone);
        }
        if (!isPayMethodOk()){
          const firstPay = document.querySelector('input[name="rsPayMethod"]');
          return scrollToEl(firstPay);
        }
        if (!isTermsOk()){
          return scrollToEl($agreeAll);
        }
      }

      $payBtn?.addEventListener('click', handlePayAttempt);
      $payGuard?.addEventListener('click', handlePayAttempt);

      // input watchers
      $name?.addEventListener('input', updatePayBtn);
      $phone?.addEventListener('input', updatePayBtn);
      document.querySelectorAll('input[name="rsPayMethod"]').forEach(r => r.addEventListener('change', updatePayBtn));

      // terms checkbox logic
      $agreeAll?.addEventListener('change', function(){
        const v = !!$agreeAll.checked;
        termCheckboxIds.forEach(id => {
          const cb = document.getElementById(id);
          if (cb) cb.checked = v;
        });
        updatePayBtn();
      });
      termCheckboxIds.forEach(id => {
        const cb = document.getElementById(id);
        if (!cb) return;
        cb.addEventListener('change', function(){
          updateAgreementAll();
          updatePayBtn();
        });
      });

      // terms modal open/close
      function openTerms(termKey, title){
        activeTerm = termKey;
        if ($termsTitle) $termsTitle.textContent = title || 'ì•½ê´€';
        if ($termsBody) $termsBody.textContent = 'í…ŒìŠ¤íŠ¸ ì¤‘ì…ë‹ˆë‹¤. ì„ì˜ì˜ ì•½ê´€ ë‚´ìš©ì„ í‘œì‹œí•©ë‹ˆë‹¤.';
        if ($termsModal){
          $termsModal.classList.remove('hidden');
          document.documentElement.classList.add('rs-lock');
          document.body.classList.add('rs-lock');
        }
      }
      function closeTerms(){
        activeTerm = null;
        if ($termsModal){
          $termsModal.classList.add('hidden');
          document.documentElement.classList.remove('rs-lock');
          document.body.classList.remove('rs-lock');
        }
      }

      document.querySelectorAll('.rsViewTerm').forEach(btn => {
        btn.addEventListener('click', function(){
          const term = btn.getAttribute('data-term') || '';
          const title = btn.getAttribute('data-title') || 'ì•½ê´€';
          openTerms(term, title);
        });
      });

      $termsClose?.addEventListener('click', closeTerms);
      $termsModal?.querySelector('[data-close="1"]')?.addEventListener('click', closeTerms);

      $termsAgreeClose?.addEventListener('click', function(){
        if (activeTerm){
          const map = {
            rule: 'rsAgreeRule',
            cancel: 'rsAgreeCancel',
            privacy: 'rsAgreePrivacy',
            age: 'rsAgreeAge'
          };
          const id = map[activeTerm];
          const cb = id ? document.getElementById(id) : null;
          if (cb) cb.checked = true;
          updateAgreementAll();
          updatePayBtn();
        }
        closeTerms();
      });

      // init (amount + current state)
      updatePayText();
      updateAgreementAll();
      updatePayBtn();
    })();

  </script>
</body>
</html>
